# 网页镜像展示系统环境变量配置模板
# 复制此文件为 .env 并根据需要修改配置

# ======================
# 基础服务配置
# ======================

# 运行环境 (development/production)
NODE_ENV=production

# 服务端口
PORT=3000

# ======================
# 存储配置
# ======================

# 内容存储目录
CONTENT_DIR=./content

# 最大内容大小 (字节，默认 10MB)
MAX_CONTENT_SIZE=10485760

# 内容文件保留天数 (0 表示永不删除)
CONTENT_RETENTION_DAYS=30

# ======================
# Playwright 配置
# ======================

# 是否跳过浏览器下载 (Vercel 等 Serverless 环境设为 1)
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=0

# 浏览器可执行文件路径 (可选)
# PLAYWRIGHT_CHROMIUM_EXECUTABLE_PATH=/usr/bin/chromium

# 浏览器启动参数 (JSON 数组格式)
BROWSER_ARGS=["--no-sandbox","--disable-setuid-sandbox","--disable-dev-shm-usage"]

# ======================
# 安全配置
# ======================

# API 密钥 (可选，用于保护 API 访问)
# API_SECRET=your-secret-key

# 允许的域名白名单 (逗号分隔，为空表示允许所有域名)
# ALLOWED_DOMAINS=example.com,test.com

# 禁止的域名黑名单 (逗号分隔)
BLOCKED_DOMAINS=localhost,127.0.0.1,0.0.0.0,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12

# ======================
# 性能配置
# ======================

# 浏览器超时时间 (毫秒)
BROWSER_TIMEOUT=30000

# 页面加载超时时间 (毫秒)
PAGE_LOAD_TIMEOUT=30000

# 最大并发请求数
MAX_CONCURRENT_REQUESTS=5

# ======================
# 日志配置
# ======================

# 日志级别 (error/warn/info/debug)
LOG_LEVEL=info

# 是否启用访问日志
ENABLE_ACCESS_LOG=true

# ======================
# 缓存配置
# ======================

# 缓存过期时间 (秒)
CACHE_TTL=3600

# 是否启用内存缓存
ENABLE_MEMORY_CACHE=true

# ======================
# 外部服务配置
# ======================

# Sentry DSN (错误监控，可选)
# SENTRY_DSN=https://your-sentry-dsn

# Redis 连接字符串 (可选，用于分布式缓存)
# REDIS_URL=redis://localhost:6379

# ======================
# Vercel 特定配置
# ======================

# Vercel 环境标识
# VERCEL=1

# Vercel 函数区域
# VERCEL_REGION=iad1

# ======================
# Docker 特定配置
# ======================

# 容器内用户 ID
# DOCKER_UID=1001

# 容器内组 ID  
# DOCKER_GID=1001

# ======================
# 开发环境配置
# ======================

# 是否启用调试模式
DEBUG=false

# 是否启用热重载
HOT_RELOAD=false

# 开发服务器主机
DEV_HOST=localhost
